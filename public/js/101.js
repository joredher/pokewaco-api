(self.webpackChunk=self.webpackChunk||[]).push([[101],{524:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>r});var a=s(645),n=s.n(a)()((function(t){return t[1]}));n.push([t.id,".modal[data-v-289debc0]{transition:opacity .25s ease}div.modal-active[data-v-289debc0]{overflow:hidden;overflow-y:auto!important}.opacity-95[data-v-289debc0]{opacity:.95}",""]);const r=n},101:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var a=s(757),n=s.n(a),r=s(538),o=s(629);const i={name:"PokeBallInfoDialog",data:function(){return{isOpen:!1,pokemon:null,styleClass:"appearance-none rounded-none relative block w-full px-3 py-2 border\nborder-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none\nfocus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",imgURL:"https://pokeres.bastionbot.org/images/pokemon/"}},methods:{open:function(t){this.getPokemon(t),this.toggleModal()},getPokemon:function(t){var e=this;this.axios.get(t).then((function(t){t.data&&(e.pokemon=t.data)})).catch((function(t){r.Z.swal({icon:"error",title:"Error al intentar traer el registro",text:t&&t.response&&t.response.data?t.response.data.message:""})}))},toggleModal:function(){var t=document.querySelector("body"),e=document.querySelector(".modal");e.classList.toggle("opacity-0"),e.classList.toggle("pointer-events-none"),t.classList.toggle("modal-active")},closeModal:function(){this.pokemon=null,this.toggleModal()}}};s(636);var l=s(900);function c(t,e,s,a,n,r,o){try{var i=t[r](o),l=i.value}catch(t){return void s(t)}i.done?e(l):Promise.resolve(l).then(a,n)}function d(t){return function(){var e=this,s=arguments;return new Promise((function(a,n){var r=t.apply(e,s);function o(t){c(r,a,n,o,i,"next",t)}function i(t){c(r,a,n,o,i,"throw",t)}o(void 0)}))}}function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const f={name:"Home",components:{PokeBallInfoDialog:(0,l.Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center"},[s("div",{staticClass:"modal-overlay absolute w-full h-full bg-white opacity-95"}),t._v(" "),s("div",{staticClass:"modal-container fixed w-full h-full z-50 overflow-y-auto "},[s("a",{staticClass:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-black text-sm z-50",on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}},[s("svg",{staticClass:"fill-current text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])]),t._v(" "),s("div",{staticClass:"modal-content container mx-auto h-auto text-left p-4"},[s("div",{staticClass:"mt-10 sm:mt-0"},[s("div",{staticClass:"md:grid md:gap-2"},[s("div",{staticClass:"md:col-span-12"},[t.pokemon?s("div",{staticClass:"px-4 sm:px-0 content-center text-center"},[t.pokemon?s("img",{staticClass:"rounded-full border mx-auto mb-2 xs:w-16 xs:h-16 sm:w-16 sm:h-16 md:w-24 md:h-24",attrs:{src:t.imgURL+"/"+t.pokemon.id+".png",alt:t.pokemon.name}}):t._e(),t._v(" "),s("h3",{staticClass:"text-lg font-medium leading-6 mt-6 pl-4 text-gray-900",domProps:{innerHTML:t._s("Pokémon: <b>"+t.pokemon.name+"</b>")}})]):t._e()]),t._v(" "),s("div",{staticClass:"mt-5 md:mt-0 md:col-span-12"},[s("div",{staticClass:"shadow overflow-hidden sm:rounded-md"},[s("div",{staticClass:"px-4 py-5 bg-white sm:p-6"},[s("div",{staticClass:"grid grid-cols-6 gap-6"},t._l(t.pokemon,(function(e,a){return s("div",{key:a,staticClass:"col-span-6"},[s("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:a},domProps:{textContent:t._s(a.charAt(0).toUpperCase()+a.slice(1))}})])})),0)])])])])]),t._v(" "),s("div",{staticClass:"flex justify-end pt-2"},[s("button",{staticClass:"modal-close px-4 bg-red-500 p-3 rounded-lg text-white hover:bg-red-400",on:{click:t.closeModal}},[t._v("Cerrar")])])])])])}),[],!1,null,"289debc0",null).exports},data:function(){return{pokeMons:[],totalItems:null,page:1,pages:15,buttonClass:"inline-flex justify-center py-1 px-2 border border-transparent\n                          shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700\n                          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",favorites:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){p(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},(0,o.Se)(["access","user"])),created:function(){this.getPokeMons()},methods:{changePage:function(t){var e=this;return d(n().mark((function s(){return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.page=t<=0||t>e.pages?e.page:t,s.next=3,e.getPokeMons();case 3:case"end":return s.stop()}}),s)})))()},getPokeMons:function(){var t=this;return d(n().mark((function e(){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={offset:t.page,limit:t.pages},t.getFavorites(),e.next=4,t.axios.get("api/pokeBalls",{headers:{authorization:"bearer ".concat(t.access)},params:s}).then((function(e){if(null!=e.data){var s=JSON.parse(JSON.stringify(e.data.data&&e.data.data.results.length?e.data.data.results:null));s.map((function(e){var s=t.favorites.find((function(t){return t.ref_api===e.url}));s?(console.log("SI SON",s.ref_api,e.url),e.toggleActive=!0):(e.toggleActive=false,console.log("NO SON",e.url))})),t.pokeMons=s,t.totalItems=e.data.data?e.data.data.count:null}})).catch((function(t){r.Z.swal({icon:"error",title:"Error al traer los registros.",text:t&&t.response&&t.response.data?t.response.data.message:""})}));case 4:case"end":return e.stop()}}),e)})))()},markFavorite:function(t){var e=this;t.toggleActive=!t.toggleActive,this.axios.patch("api/favoritePokemon/user/".concat(this.user?this.user.id:null),{name:t.name,ref_api:t.url},{headers:{authorization:"bearer ".concat(this.access)}}).then((function(t){r.Z.swal({icon:"success",title:t.data.message}),e.getPokeMons()})).catch((function(t){r.Z.swal({icon:"error",title:"Error al marcarcar como favorito.",text:t&&t.response&&t.response.data?t.response.data.message:""})}))},getFavorites:function(){var t=this;this.axios.get("api/user_favorites/".concat(this.user?this.user.id:null),{headers:{authorization:"bearer ".concat(this.access)}}).then((function(e){e.data&&e.data.data&&(t.favorites=e.data.data)})).catch((function(t){r.Z.swal({icon:"error",title:"Se presento un error al traer los favoritos del usuario.",text:t&&t.response&&t.response.data?t.response.data.message:""})}))},getPokeMonInfo:function(t){console.log("URL",t),this.$refs.pokeBallInfo.open(t)}}};const m=(0,l.Z)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},[s("div",{staticClass:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},[s("div",{staticClass:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},[s("table",{staticClass:"min-w-full divide-y divide-gray-200"},[t._m(0),t._v(" "),s("tbody",{staticClass:"bg-white divide-y divide-gray-200"},t._l(t.pokeMons,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),s("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[s("button",{class:t.buttonClass,on:{click:function(s){return s.preventDefault(),t.getPokeMonInfo(e.url)}}},[s("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])])]),t._v(" "),s("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[s("div",{on:{click:function(s){return t.markFavorite(e)}}},[s("div",{staticClass:"w-16 h-10 flex items-center bg-gray-300 rounded-full p-1 duration-300 ease-in-out",class:{"bg-green-400":e.toggleActive}},[s("div",{staticClass:"bg-white w-8 h-8 rounded-full shadow-md transform duration-300 ease-in-out",class:{"translate-x-6":e.toggleActive}})])])])])})),0)]),t._v(" "),s("div",{staticClass:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},[t._m(1),t._v(" "),s("div",{staticClass:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},[s("div",[s("p",{staticClass:"text-sm text-gray-700"},[t._v("\n                Muestra\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium"},[t._v("1")]),t._v("\n                "+t._s(" ")+"\n                a\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium"},[t._v("15")]),t._v("\n                "+t._s(" ")+"\n                de\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium"},[t._v(t._s(t.totalItems))]),t._v("\n                "+t._s(" ")+"\n                resultados,\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium",domProps:{textContent:t._s("página: "+t.page)}})])]),t._v(" "),s("div",[s("nav",{staticClass:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",attrs:{"aria-label":"Pagination"}},[s("a",{staticClass:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-red-300\n                bg-white text-sm font-medium text-gray-500 hover:bg-red-50",on:{click:function(e){return t.changePage(t.page-1)}}},[s("span",{staticClass:"sr-only"},[t._v("Previous")]),t._v(" "),s("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]),t._v(" "),s("a",{staticClass:"relative inline-flex items-center px-4 py-2\n                   border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",on:{click:function(e){return t.changePage(t.page)}}},[t._v("\n                  "+t._s(t.page)+"\n                ")]),t._v(" "),s("a",{staticClass:"relative inline-flex items-center px-2 py-2 rounded-r-md\n                border border-red-300 bg-white text-sm font-medium text-gray-500 hover:bg-red-50",on:{click:function(e){return t.changePage(t.page+1)}}},[s("span",{staticClass:"sr-only"},[t._v("Next")]),t._v(" "),s("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])])])])])])])])]),t._v(" "),s("poke-ball-info-dialog",{ref:"pokeBallInfo"})],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"bg-gray-50"},[s("tr",[s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n              Nombre Pokemon\n            ")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n              Más Info\n            ")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n              Favorito\n            ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-1 flex justify-between sm:hidden"},[s("a",{staticClass:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",attrs:{href:"#"}},[t._v("\n              Previous\n            ")]),t._v(" "),s("a",{staticClass:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",attrs:{href:"#"}},[t._v("\n              Next\n            ")])])}],!1,null,"1cf37fb0",null).exports},636:(t,e,s)=>{var a=s(524);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,s(346).Z)("3497a9ca",a,!0,{})}}]);