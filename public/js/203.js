(self.webpackChunk=self.webpackChunk||[]).push([[203],{203:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>f});var n=s(757),a=s.n(n),r=s(538),o=s(629);const i={name:"PokeBallInfoDialog",components:{ModalTailwind:function(){return s.e(504).then(s.bind(s,504))}},data:function(){return{isOpen:!1,pokemon:null,styleClass:"appearance-none rounded-none relative block w-full px-3 py-2 border\nborder-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none\nfocus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",imgURL:"https://pokeres.bastionbot.org/images/pokemon/"}},methods:{open:function(t){this.isOpen=!0,this.getPokemon(t)},getPokemon:function(t){var e=this;this.axios.get(t).then((function(t){t.data&&(console.log("B",t),e.pokemon=t.data,console.log("A",e.pokemon))})).catch((function(t){r.Z.swal({icon:"error",title:"Error al intentar traer el registro",text:t&&t.response&&t.response.data?t.response.data.message:""})}))}}};var l=s(900);function c(t,e,s,n,a,r,o){try{var i=t[r](o),l=i.value}catch(t){return void s(t)}i.done?e(l):Promise.resolve(l).then(n,a)}function d(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){c(r,n,a,o,i,"next",t)}function i(t){c(r,n,a,o,i,"throw",t)}o(void 0)}))}}function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function p(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const m={name:"Home",components:{PokeBallInfoDialog:(0,l.Z)(i,(function(){var t=this,e=this,s=e.$createElement,n=e._self._c||s;return n("modal-tailwind",{attrs:{"open-modal":e.isOpen},on:{close:function(){t.isOpen=!1,t.pokemon=null}}},[n("template",{slot:"container"},[n("div",{staticClass:"mt-10 sm:mt-0"},[n("div",{staticClass:"md:grid md:gap-2"},[n("div",{staticClass:"md:col-span-12"},[e.pokemon?n("div",{staticClass:"px-4 sm:px-0 content-center text-center"},[e.pokemon?n("img",{staticClass:"rounded-full border mx-auto mb-2 xs:w-16 xs:h-16 sm:w-16 sm:h-16 md:w-24 md:h-24",attrs:{src:e.imgURL+"/"+e.pokemon.id+".png",alt:e.pokemon.name}}):e._e(),e._v(" "),n("h3",{staticClass:"text-lg font-medium leading-6 mt-6 pl-4 text-gray-900",domProps:{innerHTML:e._s("Pokémon: <b>"+e.pokemon.name+"</b>")}})]):e._e()]),e._v(" "),n("div",{staticClass:"mt-5 md:mt-0 md:col-span-12"},[n("div",{staticClass:"shadow overflow-hidden sm:rounded-md"},[n("div",{staticClass:"px-4 py-5 bg-white sm:p-6"},[n("div",{staticClass:"grid grid-cols-6 gap-6"},e._l(e.pokemon,(function(t,s){return n("div",{key:s,staticClass:"col-span-6"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:s},domProps:{textContent:e._s(s.charAt(0).toUpperCase()+s.slice(1))}})])})),0)])])])])])])],2)}),[],!1,null,"59d90222",null).exports},data:function(){return{pokeMons:[],totalItems:null,page:1,pages:15,buttonClass:"inline-flex justify-center py-1 px-2 border border-transparent\n                          shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700\n                          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",favorites:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){p(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},(0,o.Se)(["access","user"])),beforeMount:function(){this.getFavorites()},mounted:function(){this.getPokeMons()},methods:{changePage:function(t){var e=this;return d(a().mark((function s(){return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.page=t<=0||t>e.pages?e.page:t,console.log("AS",t),s.next=4,e.getPokeMons();case 4:case"end":return s.stop()}}),s)})))()},getPokeMons:function(){var t=this;return d(a().mark((function e(){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={offset:t.page,limit:t.pages},t.getFavorites(),e.next=4,t.axios.get("pokeBalls",{headers:{authorization:"bearer ".concat(t.access)},params:s}).then((function(e){if(null!=e.data){var s=JSON.parse(JSON.stringify(e.data.data&&e.data.data.results.length?e.data.data.results:null));s.map((function(e){var s=t.favorites.find((function(t){return t.ref_api===e.url}));s?(console.log("SI SON",s.ref_api,e.url),e.toggleActive=!0):(e.toggleActive=false,console.log("NO SON",e.url))})),t.pokeMons=s,t.totalItems=e.data.data?e.data.data.count:null}})).catch((function(t){r.Z.swal({icon:"error",title:"Error al traer los registros.",text:t&&t.response&&t.response.data?t.response.data.message:""})}));case 4:case"end":return e.stop()}}),e)})))()},markFavorite:function(t){var e=this;t.toggleActive=!t.toggleActive,this.axios.patch("favoritePokemon/user/".concat(this.user?this.user.id:null),{name:t.name,ref_api:t.url},{headers:{authorization:"bearer ".concat(this.access)}}).then((function(t){r.Z.swal({icon:"success",title:t.data.message}),e.getPokeMons()})).catch((function(t){r.Z.swal({icon:"error",title:"Error al marcarcar como favorito.",text:t&&t.response&&t.response.data?t.response.data.message:""})}))},getFavorites:function(){var t=this;this.axios.get("user_favorites/".concat(this.user?this.user.id:null),{headers:{authorization:"bearer ".concat(this.access)}}).then((function(e){e.data&&e.data.data&&(t.favorites=e.data.data)})).catch((function(t){r.Z.swal({icon:"error",title:"Se presento un error al traer los favoritos del usuario.",text:t&&t.response&&t.response.data?t.response.data.message:""})}))},getPokeMonInfo:function(t){console.log("URL",t),this.$refs.pokeBallInfo.open(t)}}};const f=(0,l.Z)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},[s("div",{staticClass:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},[s("div",{staticClass:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},[s("table",{staticClass:"min-w-full divide-y divide-gray-200"},[t._m(0),t._v(" "),s("tbody",{staticClass:"bg-white divide-y divide-gray-200"},t._l(t.pokeMons,(function(e,n){return s("tr",{key:n},[s("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),s("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[s("button",{class:t.buttonClass,on:{click:function(s){return s.preventDefault(),t.getPokeMonInfo(e.url)}}},[s("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])])]),t._v(" "),s("td",{staticClass:"px-6 py-4 whitespace-nowrap"},[s("div",{on:{click:function(s){return t.markFavorite(e)}}},[s("div",{staticClass:"w-16 h-10 flex items-center bg-gray-300 rounded-full p-1 duration-300 ease-in-out",class:{"bg-green-400":e.toggleActive}},[s("div",{staticClass:"bg-white w-8 h-8 rounded-full shadow-md transform duration-300 ease-in-out",class:{"translate-x-6":e.toggleActive}})])])])])})),0)]),t._v(" "),s("div",{staticClass:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},[t._m(1),t._v(" "),s("div",{staticClass:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},[s("div",[s("p",{staticClass:"text-sm text-gray-700"},[t._v("\n                Muestra de\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium"},[t._v("1")]),t._v("\n                "+t._s(" ")+"\n                a\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium"},[t._v("15")]),t._v("\n                "+t._s(" ")+"\n                de\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium"},[t._v(t._s(t.totalItems))]),t._v("\n                "+t._s(" ")+"\n                resultados,\n                "+t._s(" ")+"\n                "),s("span",{staticClass:"font-medium",domProps:{textContent:t._s("página: "+t.page)}})])]),t._v(" "),s("div",[s("nav",{staticClass:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",attrs:{"aria-label":"Pagination"}},[s("a",{staticClass:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-red-300\n                bg-white text-sm font-medium text-gray-500 hover:bg-red-50",on:{click:function(e){return t.changePage(t.page-1)}}},[s("span",{staticClass:"sr-only"},[t._v("Previous")]),t._v(" "),s("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})])]),t._v(" "),s("a",{staticClass:"relative inline-flex items-center px-4 py-2\n                   border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",on:{click:function(e){return t.changePage(t.page)}}},[t._v("\n                  "+t._s(t.page)+"\n                ")]),t._v(" "),s("a",{staticClass:"relative inline-flex items-center px-2 py-2 rounded-r-md\n                border border-red-300 bg-white text-sm font-medium text-gray-500 hover:bg-red-50",on:{click:function(e){return t.changePage(t.page+1)}}},[s("span",{staticClass:"sr-only"},[t._v("Next")]),t._v(" "),s("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"}})])])])])])])])])]),t._v(" "),s("poke-ball-info-dialog",{ref:"pokeBallInfo"})],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"bg-gray-50"},[s("tr",[s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n              Nombre Pokemon\n            ")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n              Más Info\n            ")]),t._v(" "),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v("\n              Favorito\n            ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-1 flex justify-between sm:hidden"},[s("a",{staticClass:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",attrs:{href:"#"}},[t._v("\n              Previous\n            ")]),t._v(" "),s("a",{staticClass:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:text-gray-500",attrs:{href:"#"}},[t._v("\n              Next\n            ")])])}],!1,null,"6e589ac2",null).exports}}]);